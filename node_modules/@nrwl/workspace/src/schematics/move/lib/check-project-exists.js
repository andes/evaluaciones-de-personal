"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const workspace_1 = require("@nrwl/workspace");
const rxjs_1 = require("rxjs");
const operators_1 = require("rxjs/operators");
/**
 * Checks whether the project exists in the workspace.
 *
 * @param schema The options provided to the schematic
 */
function checkProjectExists(schema) {
    return (tree, _context) => {
        return rxjs_1.from(workspace_1.getWorkspace(tree)).pipe(operators_1.map(workspace => {
            if (!workspace.projects.has(schema.projectName)) {
                throw new Error(`Project not found in workspace: [${schema.projectName}]`);
            }
            return tree;
        }));
    };
}
exports.checkProjectExists = checkProjectExists;
