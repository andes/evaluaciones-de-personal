!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-observe",["exports","@angular/core","rxjs","rxjs/operators"],t):t((e=e||self)["ngx-observe"]={},e.ng.core,e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function n(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var f=e.length-1;f>=0;f--)(n=e[f])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function o(e,r){if(!!(r&&!r.createEmbeddedView))throw new Error(e+" must be a TemplateRef, but received '"+t["Éµstringify"](r)+"'.")}var s=function(e){this.$implicit=e,this.ngxObserve=e},f=function(e){this.$implicit=e},c=function(){function e(e,t,i){this.view=e,this.changes=t,this.unsubscribe=new r.Subject,this.init=new r.AsyncSubject,this.nextTemplateRef=i}return Object.defineProperty(e.prototype,"ngxObserve",{set:function(e){var t=this;this.source&&e!==this.source&&this.unsubscribe.next(void 0),e&&e!==this.source&&(this.beforeTemplateRef&&(this.view.clear(),this.nextViewRef=void 0,this.errorViewRef=void 0,this.beforeViewRef=this.view.createEmbeddedView(this.beforeTemplateRef)),this.init.pipe(i.concatMap((function(){return t.beforeTemplateRef&&(t.view.clear(),t.nextViewRef=void 0,t.errorViewRef=void 0,t.beforeViewRef=t.view.createEmbeddedView(t.beforeTemplateRef)),e})),i.takeUntil(this.unsubscribe)).subscribe((function(e){t.view.clear(),t.errorViewRef=void 0,t.beforeViewRef=void 0,t.nextViewRef=t.view.createEmbeddedView(t.nextTemplateRef,new s(e)),t.changes.markForCheck()}),(function(e){t.errorTemplateRef&&(t.view.clear(),t.beforeViewRef=void 0,t.nextViewRef=void 0,t.errorViewRef=t.view.createEmbeddedView(t.errorTemplateRef,new f(e)),t.changes.markForCheck())}))),this.source=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngxObserveError",{set:function(e){o("ngxObserveError",e),this.errorTemplateRef=e,this.errorViewRef&&(this.view.clear(),this.errorViewRef=this.view.createEmbeddedView(this.errorTemplateRef,this.errorViewRef.context))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngxObserveBefore",{set:function(e){o("ngxObserveBefore",e),this.beforeTemplateRef=e,this.beforeViewRef&&(this.view.clear(),this.beforeViewRef=this.view.createEmbeddedView(this.beforeTemplateRef))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngxObserveNext",{set:function(e){o("ngxObserveNext",e),this.nextTemplateRef=e,this.nextViewRef&&(this.view.clear(),this.nextViewRef=this.view.createEmbeddedView(this.nextTemplateRef,this.nextViewRef.context),this.changes.markForCheck())},enumerable:!0,configurable:!0}),e.ngTemplateContextGuard=function(e,t){return!0},e.prototype.ngOnDestroy=function(){this.unsubscribe.next(void 0)},e.prototype.ngOnInit=function(){this.init.next(void 0),this.init.complete()},e.ctorParameters=function(){return[{type:t.ViewContainerRef},{type:t.ChangeDetectorRef},{type:t.TemplateRef}]},n([t.Input()],e.prototype,"ngxObserve",null),n([t.Input()],e.prototype,"ngxObserveError",null),n([t.Input()],e.prototype,"ngxObserveBefore",null),n([t.Input()],e.prototype,"ngxObserveNext",null),e=n([t.Directive({selector:"[ngxObserve]"})],e)}(),u=function(){function e(){}return e=n([t.NgModule({declarations:[c],imports:[],exports:[c]})],e)}();e.ErrorContext=f,e.NgxObserve=c,e.NgxObserveModule=u,e.ObserveContext=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-observe.umd.min.js.map